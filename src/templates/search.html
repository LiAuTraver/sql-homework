<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>查找图书</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <h1 class="my-4">查找图书</h1>
        <form action="/home/search" method="POST">
            <div class="mb-3">
                <label for="book_title" class="form-label">请输入图书名称或关键词：</label>
                <input type="text" class="form-control" id="book_title" name="keyword" placeholder="输入图书名称">
            </div>
            <button type="submit" class="btn btn-primary">查找</button>
        </form>


        {% if search %}
            {% if books %}
            <h2 class="my-4">搜索结果：</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>ISBN</th>
                        <th>书名</th>
                        <th>总库存</th>
                        <th>可用库存</th>
                        <th>描述</th>
                        <th>出版日期</th>
                    </tr>
                </thead>
                <tbody>
                    {% for book in books %}
                        <tr>
                            <td>{{ book.isbn }}</td>
                            <td>{{ book.name }}</td>
                            <td>{{ book.copies }}</td>
                            <td>{{ book.available_copies }}</td>
                            <td>{{ book.description }}</td>
                            <td>{{ book.publish_date }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
                </ul>
            {% else %}
                <p class="my-4">没有找到相关图书。</p>
            {% endif %}
        {% endif %}

    </div>
</body>

</html>